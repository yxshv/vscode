---
import { DownloadIcon, ArrowRightIcon } from "@radix-ui/react-icons";
---

<div
  class="lg:px-40 px-6 flex flex-col justify-center gap-4 lg:gap-8 items-center mt-10"
>
  <h1
    data-heading
    class="text-center opacity-0 text-4xl will-change-[opacity] lg:text-7xl flex flex-col justify-center gap-4"
  >
    <span class="font-light">Code Editing.</span>
    <span class="font-medium">Redefined</span>
  </h1>
  <p
    data-desc
    class="text-center will-change-[opacity] opacity-0 text-md lg:text-xl font-light"
  >
    A free, open source, cross platform code editor
  </p>
  <div
    data-btns
    class="flex justify-center gradient opacity-0 will-change-[opacity] items-center text-sm lg:text-lg font-light gap-3"
  >
    <div
      style={{
        "--color-start": "#1F9CF0",
        "--color-end": "#206DBF",
      }}
      class="p-[2px] bg-gradient-to-t gradient rounded-[calc(0.375rem+2px)] lg:rounded-[calc(0.5rem+2px)]"
    >
      <a
        href="#"
        class="bg-accent-1 text-white px-5 lg:px-6 py-2 gap-1 flex justify-center items-center rounded-md lg:rounded-lg"
      >
        <DownloadIcon className="lg:w-5 lg:h-5" />
        Download
      </a>
    </div>

    <div
      style={{
        "--color-start": "rgb(31, 156, 240, 0.5)",
        "--color-end": "#38393E",
      }}
      class="p-[2px] bg-gradient-to-t gradient rounded-[calc(0.375rem+2px)] lg:rounded-[calc(0.5rem+2px)]"
    >
      <a
        href="{{ site.github }}"
        class="bg-gray-1 text-white px-5 lg:px-6 py-2 rounded-md lg:rounded-lg gap-1 flex justify-center items-center"
        >Try it on the Web
        <ArrowRightIcon className="lg:w-5 lg:h-5" />
      </a>
    </div>
  </div>
  <div
    data-img
    class="flex justify-center lg:mt-14 mt-6 rounded-[calc(0.5rem+2px)] editor-bg p-[2px] opacity-0 scale-90 will-change-transform items-center relative"
  >
    <img src="/dark+.png" class="rounded-lg" />
    <div class="blob-1 bg-accent-1 w-[100vw] lg:w-[65vw]"></div>
  </div>
</div>

<style>
  .blob-1 {
    position: absolute;
    z-index: -1;
    top: 80%;
    left: 50%;
    transform: translate(-50%, -50%);
    aspect-ratio: 1/1;
    border-radius: 50%;
    filter: blur(300px);
  }

  .gradient {
    --tw-gradient-stops: var(--color-start) 0%, var(--color-end) 95%;
  }

  .editor-bg {
    background: linear-gradient(
      to bottom,
      rgba(31, 156, 240, 0.6) 0%,
      rgba(31, 156, 240, 0) 80%
    );
  }
</style>

<script type="module">
  import gsap from "../../node_modules/gsap";
  import ScrollTrigger from "../../node_modules/gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  window.onload = () => {
    gsap.to("[data-heading]", {
      opacity: 1,
      duration: 1,
      delay: 0.1,
    });

    gsap.to("[data-desc]", {
      opacity: 1,
      duration: 1,
      delay: 0.2,
    });

    gsap.to("[data-btns]", {
      opacity: 1,
      duration: 1,
      delay: 0.3,
    });

    gsap.to("[data-img]", {
      opacity: 1,
      scale: 1,
      translateY: 0,
      duration: 1,
      delay: 0.4,
    });

    gsap.fromTo(
      "[data-heading]",
      {
        opacity: 1,
        y: 0,
      },
      {
        opacity: 0,
        y: -20,
        scrollTrigger: {
          trigger: "body",
          start: "top 0%",
          endTrigger: "body",
          end: "top -10%",
          scrub: true,
        },
      }
    );

    gsap.fromTo(
      "[data-desc]",
      {
        opacity: 1,
        y: 0,
      },
      {
        opacity: 0,
        y: -40,
        scrollTrigger: {
          trigger: "body",
          start: "top 0%",
          end: "top -20%",
          scrub: true,
        },
      }
    );

    gsap.fromTo(
      "[data-btns]",
      {
        opacity: 2,
        y: 0,
      },
      {
        opacity: 0,
        y: -60,
        scrollTrigger: {
          trigger: "body",
          start: "top 0%",
          // endTrigger: "[data-btns]",
          end: "top -30%",
          scrub: true,
        },
      }
    );
    gsap.fromTo(
      "[data-img]>img",
      {
        y: 0,
      },
      {
        y: -100,
        scale: 1.2,
        scrollTrigger: {
          trigger: "body",
          start: "top 0%",
          // endTrigger: "[data-btns]",
          end: "top -40%",
          scrub: true,
        },
      }
    );
  };
</script>
